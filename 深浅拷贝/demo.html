<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
</head>

<body>
  <script>
    // let var1 = {
    //   a: 1,
    //   b: {
    //     b1: 5,
    //     b2: undefined,
    //     b3: function () {
    //       console.log('xxx')
    //     }
    //   }
    // }
    // var1.c = var1.b
    // var1.b.c = var1.c
    // let var2 = { ...var1, b: { b1: 6, b2: 7, b3: 8 } }
    // console.log(var1.b)
    // console.log(var2.b)

    function deepCopy(obj) {
      let result
      if (Object.prototype.toString.call(obj) === '[object Object]') {
        result = {}
        for (var key in obj) {
          result[key] = deepCopy(obj[key])
        }
        return result
      } else if (Object.prototype.toString.call(obj) === '[object Array]') {
        result = []
        for (let i = 0; i < obj.length; i++) {
          result[i] = deepCopy(obj[i])
        }
        return result
      } else {
        return obj
      }
    }

    let var1 = [3, {
      a: 1,
      b: {
        b1: 5
      }
    }]
    let var2 = JSON.parse(JSON.stringify(var1))
    var1[1].b.b1 = 6
    console.log(var1[1].b.b1, var2[1].b.b1)
  </script>
</body>

</html>